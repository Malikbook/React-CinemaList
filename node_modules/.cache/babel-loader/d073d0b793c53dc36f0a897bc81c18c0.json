{"ast":null,"code":"import _toConsumableArray from \"/Users/user/Documents/GitHub/CinemaList/React-CinemaList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/user/Documents/GitHub/CinemaList/React-CinemaList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/user/Documents/GitHub/CinemaList/React-CinemaList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/user/Documents/GitHub/CinemaList/React-CinemaList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/user/Documents/GitHub/CinemaList/React-CinemaList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/user/Documents/GitHub/CinemaList/React-CinemaList/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/user/Documents/GitHub/CinemaList/React-CinemaList/src/components/App.jsx\";\nimport React from \"react\"; // import { moviesData } from \"../moviesData\";\n\nimport WillWatch from \"./WillWatch\";\nimport MovieTabs from \"./MovieTabs\";\n\nfunction removeMovie(movie) {\n  console.log(\"/// removeMovie\");\n  console.log(this, \"MOVIE single\", movie);\n  this.removeMovieFromWillWatch(movie);\n  var updateMovies = this.state.movies.filter(function (item) {\n    return item.id !== movie.id;\n  });\n  console.log(updateMovies);\n  this.setState({\n    movies: updateMovies\n  });\n}\n\nvar App = /*#__PURE__*/function (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _this.getMovies = function () {\n      fetch(\"https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&page=\".concat(_this.state.sort_by)).then(function (response) {\n        console.log('then');\n        return response.json();\n      }).then(function (data) {\n        _this.setState({\n          data: data\n        });\n\n        console.log(data);\n\n        _this.setState({\n          movies: data.results\n        });\n      });\n    };\n\n    _this.addMovieToWillWatch = function (movie) {\n      // console.log(movie);\n      // this.state.moviesWillWatch.push(movie);\n      // const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n      // updateMoviesWillWatch.push(movie);\n      var updateMoviesWillWatch = [].concat(_toConsumableArray(_this.state.moviesWillWatch), [movie]);\n\n      _this.setState({\n        moviesWillWatch: updateMoviesWillWatch\n      });\n    };\n\n    _this.removeMovieFromWillWatch = function (movie) {\n      var nm = movie;\n      console.log('this movie', nm);\n\n      var updateMoviesWillWatch = _toConsumableArray(_this.state.moviesWillWatch);\n\n      updateMoviesWillWatch.splice(nm, 1);\n\n      _this.setState({\n        moviesWillWatch: updateMoviesWillWatch\n      });\n    };\n\n    _this.uppdateSortBy = function (value) {\n      _this.setState({\n        sort_by: value\n      });\n    };\n\n    _this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: 1,\n      data: ''\n    }; // this.removeMovie = this.removeMovie.bind(this);\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getMovies();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevState.sort_by !== this.state.sort_by) {\n        this.getMovies();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log(\"total\", this.state.data.total_pages)\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(MovieList, {\n        uppdateSortBy: this.uppdateSortBy,\n        data: this.state.data,\n        sort_by: this.state.sort_by,\n        movies: this.state.movies,\n        appThis: this,\n        addMovieToWillWatch: this.addMovieToWillWatch,\n        removeMovieFromWillWatch: this.removeMovieFromWillWatch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"col-4 col-sm-3 mt-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Will Watch: \", this.state.moviesWillWatch.length, \" movies\"), React.createElement(\"ul\", {\n        className: \"list-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, this.state.moviesWillWatch.map(function (movie) {\n        return React.createElement(\"li\", {\n          key: movie.id,\n          className: \"list-group-item bg-info\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: {\n            border: '1px solid gray',\n            padding: '5px',\n            borderRadius: '3px'\n          },\n          className: \"d-flex mx-n3 my-n2 flex-wrap justify-content-between bg-white\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, movie.title), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, \"Rating: \", movie.vote_average)));\n      })))));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nvar MovieList = /*#__PURE__*/function (_React$Component2) {\n  _inherits(MovieList, _React$Component2);\n\n  function MovieList() {\n    _classCallCheck(this, MovieList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(MovieList).apply(this, arguments));\n  }\n\n  _createClass(MovieList, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          movies = _this$props.movies,\n          appThis = _this$props.appThis,\n          removeMovieFromWillWatch = _this$props.removeMovieFromWillWatch,\n          addMovieToWillWatch = _this$props.addMovieToWillWatch; // console.log(\"MovieList movies\", movies, removeMovie);\n\n      return React.createElement(\"div\", {\n        className: \"col-8 col-sm-9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(MovieTabs, {\n        sort_by: this.props.sort_by,\n        uppdateSortBy: this.props.uppdateSortBy,\n        data: this.props.data,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, movies.map(function (movie) {\n        return React.createElement(\"div\", {\n          className: \"offset-1 col-10 offset-sm-0 col-sm-6 mt-4\",\n          key: movie.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(WillWatch, {\n          id: movie.id,\n          movie: movie,\n          removeMovie: removeMovie,\n          appThis: appThis,\n          addMovieToWillWatch: addMovieToWillWatch,\n          removeMovieFromWillWatch: removeMovieFromWillWatch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }));\n      })));\n    }\n  }]);\n\n  return MovieList;\n}(React.Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/user/Documents/GitHub/CinemaList/React-CinemaList/src/components/App.jsx"],"names":["React","WillWatch","MovieTabs","removeMovie","movie","console","log","removeMovieFromWillWatch","updateMovies","state","movies","filter","item","id","setState","App","getMovies","fetch","sort_by","then","response","json","data","results","addMovieToWillWatch","updateMoviesWillWatch","moviesWillWatch","nm","splice","uppdateSortBy","value","prevProps","prevState","length","map","border","padding","borderRadius","title","vote_average","Component","MovieList","props","appThis"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAEA,SAASC,WAAT,CAAsBC,KAAtB,EAA6B;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ,EAAkB,cAAlB,EAAkCF,KAAlC;AAEA,OAAKG,wBAAL,CAA8BH,KAA9B;AAEA,MAAMI,YAAY,GAAG,KAAKC,KAAL,CAAWC,MAAX,CAAkBC,MAAlB,CAAyB,UAAUC,IAAV,EAAgB;AAC5D,WAAOA,IAAI,CAACC,EAAL,KAAaT,KAAK,CAACS,EAA1B;AACD,GAFoB,CAArB;AAGAR,EAAAA,OAAO,CAACC,GAAR,CAAYE,YAAZ;AACA,OAAKM,QAAL,CAAc;AACZJ,IAAAA,MAAM,EAAEF;AADI,GAAd;AAGD;;IAEKO,G;;;AACJ,iBAAc;AAAA;;AAAA;;AACZ;;AADY,UAiBhBC,SAjBgB,GAiBJ,YAAK;AACfC,MAAAA,KAAK,qGAA8F,MAAKR,KAAL,CAAWS,OAAzG,EAAL,CAAyHC,IAAzH,CAA8H,UAACC,QAAD,EAAc;AACxIf,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,eAAOc,QAAQ,CAACC,IAAT,EAAP;AACD,OAHH,EAGKF,IAHL,CAGU,UAACG,IAAD,EAAU;AAChB,cAAKR,QAAL,CAAc;AACZQ,UAAAA,IAAI,EAAEA;AADM,SAAd;;AAGAjB,QAAAA,OAAO,CAACC,GAAR,CAAYgB,IAAZ;;AACA,cAAKR,QAAL,CAAc;AACZJ,UAAAA,MAAM,EAAEY,IAAI,CAACC;AADD,SAAd;AAGD,OAXH;AAYD,KA9Be;;AAAA,UAsCdC,mBAtCc,GAsCQ,UAACpB,KAAD,EAAW;AAC/B;AACA;AACA;AACA;AAEA,UAAMqB,qBAAqB,gCAAO,MAAKhB,KAAL,CAAWiB,eAAlB,IAAmCtB,KAAnC,EAA3B;;AACA,YAAKU,QAAL,CAAc;AACZY,QAAAA,eAAe,EAAED;AADL,OAAd;AAID,KAjDa;;AAAA,UAkDdlB,wBAlDc,GAkDa,UAACH,KAAD,EAAW;AAEpC,UAAMuB,EAAE,GAAGvB,KAAX;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BqB,EAA1B;;AAEA,UAAMF,qBAAqB,sBAAO,MAAKhB,KAAL,CAAWiB,eAAlB,CAA3B;;AACAD,MAAAA,qBAAqB,CAACG,MAAtB,CAA6BD,EAA7B,EAAiC,CAAjC;;AAEA,YAAKb,QAAL,CAAc;AACZY,QAAAA,eAAe,EAAED;AADL,OAAd;AAGD,KA7Da;;AAAA,UA+DdI,aA/Dc,GA+DE,UAAAC,KAAK,EAAI;AACvB,YAAKhB,QAAL,CAAc;AACZI,QAAAA,OAAO,EAAEY;AADG,OAAd;AAGD,KAnEa;;AAGZ,UAAKrB,KAAL,GAAa;AACXC,MAAAA,MAAM,EAAE,EADG;AAEXgB,MAAAA,eAAe,EAAE,EAFN;AAGXR,MAAAA,OAAO,EAAE,CAHE;AAIXI,MAAAA,IAAI,EAAE;AAJK,KAAb,CAHY,CAUZ;;AAVY;AAWb;;;;wCAEmB;AAClB,WAAKN,SAAL;AACH;;;uCAiBoBe,S,EAAWC,S,EAAW;AACvC,UAAGA,SAAS,CAACd,OAAV,KAAsB,KAAKT,KAAL,CAAWS,OAApC,EAA4C;AAC1C,aAAKF,SAAL;AACD;AACF;;;6BAiCQ;AACP;AACA,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AACA,QAAA,aAAa,EAAE,KAAKa,aADpB;AAEA,QAAA,IAAI,EAAE,KAAKpB,KAAL,CAAWa,IAFjB;AAGA,QAAA,OAAO,EAAE,KAAKb,KAAL,CAAWS,OAHpB;AAIA,QAAA,MAAM,EAAE,KAAKT,KAAL,CAAWC,MAJnB;AAKA,QAAA,OAAO,EAAI,IALX;AAMA,QAAA,mBAAmB,EAAI,KAAKc,mBAN5B;AAOA,QAAA,wBAAwB,EAAE,KAAKjB,wBAP/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EASE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAiB,KAAKE,KAAL,CAAWiB,eAAX,CAA2BO,MAA5C,YADF,EAEE;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKxB,KAAL,CAAWiB,eAAX,CAA2BQ,GAA3B,CAA+B,UAAA9B,KAAK;AAAA,eACnC;AAAI,UAAA,GAAG,EAAEA,KAAK,CAACS,EAAf;AAAmB,UAAA,SAAS,EAAC,yBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAK,UAAA,KAAK,EAAE;AAACsB,YAAAA,MAAM,EAAE,gBAAT;AAA2BC,YAAAA,OAAO,EAAE,KAApC;AAA2CC,YAAAA,YAAY,EAAE;AAAzD,WAAZ;AAA6E,UAAA,SAAS,EAAC,+DAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIjC,KAAK,CAACkC,KAAV,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAYlC,KAAK,CAACmC,YAAlB,CAFF,CADF,CADmC;AAAA,OAApC,CADH,CAFF,CATF,CADF,CADF;AA2BD;;;;EAnGevC,KAAK,CAACwC,S;;IAsGlBC,S;;;;;;;;;;;6BACK;AAAA,wBACmE,KAAKC,KADxE;AAAA,UACAhC,MADA,eACAA,MADA;AAAA,UACQiC,OADR,eACQA,OADR;AAAA,UACiBpC,wBADjB,eACiBA,wBADjB;AAAA,UAC2CiB,mBAD3C,eAC2CA,mBAD3C,EAEP;;AACA,aACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,SAAD;AAAW,QAAA,OAAO,EAAE,KAAKkB,KAAL,CAAWxB,OAA/B;AACA,QAAA,aAAa,EAAE,KAAKwB,KAAL,CAAWb,aAD1B;AAEA,QAAA,IAAI,EAAE,KAAKa,KAAL,CAAWpB,IAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADF,CADA,EASE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGZ,MAAM,CAACwB,GAAP,CAAW,UAAA9B,KAAK,EAAI;AACnB,eACE;AAAK,UAAA,SAAS,EAAC,2CAAf;AAA2D,UAAA,GAAG,EAAEA,KAAK,CAACS,EAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,SAAD;AAAW,UAAA,EAAE,EAAET,KAAK,CAACS,EAArB;AAAyB,UAAA,KAAK,EAAET,KAAhC;AAAuC,UAAA,WAAW,EAAED,WAApD;AAAiE,UAAA,OAAO,EAAIwC,OAA5E;AAAqF,UAAA,mBAAmB,EAAInB,mBAA5G;AAAiI,UAAA,wBAAwB,EAAIjB,wBAA7J;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF;AAKD,OANA,CADH,CATF,CADF;AAqBD;;;;EAzBqBP,KAAK,CAACwC,S;;AA4B9B,eAAezB,GAAf","sourcesContent":["import React from \"react\";\n// import { moviesData } from \"../moviesData\";\nimport WillWatch from \"./WillWatch\";\nimport MovieTabs from \"./MovieTabs\"\n\nfunction removeMovie (movie) {\n  console.log(\"/// removeMovie\");\n  console.log(this, \"MOVIE single\", movie);\n\n  this.removeMovieFromWillWatch(movie);\n\n  const updateMovies = this.state.movies.filter(function (item) {\n    return item.id  !== movie.id;\n  })\n  console.log(updateMovies);\n  this.setState({\n    movies: updateMovies\n  })\n}\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by: 1,\n      data: ''\n    };\n\n    // this.removeMovie = this.removeMovie.bind(this);\n  }\n\n  componentDidMount() {\n    this.getMovies()\n};\n\ngetMovies = () =>{\n  fetch(`https://api.themoviedb.org/3/discover/movie?api_key=3f4ca4f3a9750da53450646ced312397&page=${this.state.sort_by}`).then((response) => {\n      console.log('then')\n      return response.json()\n    }).then((data) => {\n      this.setState({\n        data: data\n      })\n      console.log(data)\n      this.setState({\n        movies: data.results,\n      })\n    })\n}\n\n  componentDidUpdate(prevProps, prevState) {\n    if(prevState.sort_by !== this.state.sort_by){\n      this.getMovies()\n    }\n  }\n\n  addMovieToWillWatch = (movie) => {\n    // console.log(movie);\n    // this.state.moviesWillWatch.push(movie);\n    // const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    // updateMoviesWillWatch.push(movie);\n\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch, movie];\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });    \n    \n  };\n  removeMovieFromWillWatch = (movie) => {\n\n    const nm = movie;\n    console.log('this movie', nm);\n\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.splice(nm, 1);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    })\n  };\n\n  uppdateSortBy = value => {\n    this.setState({\n      sort_by: value\n    });\n  };\n\n  render() {\n    // console.log(\"total\", this.state.data.total_pages)\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <MovieList \n          uppdateSortBy={this.uppdateSortBy} \n          data={this.state.data}\n          sort_by={this.state.sort_by} \n          movies={this.state.movies} \n          appThis = {this} \n          addMovieToWillWatch = {this.addMovieToWillWatch} \n          removeMovieFromWillWatch={this.removeMovieFromWillWatch}/>\n          <div className=\"col-4 col-sm-3 mt-4\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map(movie => (\n                <li key={movie.id} className=\"list-group-item bg-info\">\n                  <div style={{border: '1px solid gray', padding: '5px', borderRadius: '3px'}} className=\"d-flex mx-n3 my-n2 flex-wrap justify-content-between bg-white\">\n                    <p>{movie.title}</p>\n                    <p>Rating: {movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass MovieList extends React.Component {\n  render() {\n    const {movies, appThis, removeMovieFromWillWatch, addMovieToWillWatch } = this.props;\n    // console.log(\"MovieList movies\", movies, removeMovie);\n    return (\n      <div className=\"col-8 col-sm-9\">\n      <div className=\"row\">\n        <div className=\"col-12\">\n            <MovieTabs sort_by={this.props.sort_by} \n            uppdateSortBy={this.props.uppdateSortBy}\n            data={this.props.data}  \n            />\n          </div>\n        </div>\n        <div className=\"row\">\n          {movies.map(movie => {\n            return (\n              <div className=\"offset-1 col-10 offset-sm-0 col-sm-6 mt-4\" key={movie.id}>\n                <WillWatch id={movie.id} movie={movie} removeMovie={removeMovie} appThis = {appThis} addMovieToWillWatch = {addMovieToWillWatch} removeMovieFromWillWatch = {removeMovieFromWillWatch} />\n              </div>\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}